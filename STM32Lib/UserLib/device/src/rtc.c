/************************************版权所有(c)****************************************
* 版权所有(c), 2012-2013, XXXXXXXXXXXX, 保留所有权
* 文件名      ：rtc.c
* 作者        ：XXXX
* 版本        ：V 1.0
* 日期        ：2015-06-29
* 功能描述    ：
* 备注        ：
* 主要函数列表：
* 修改记录    ：
  日      期          版本          修改人          修改内容
  2015-06-29          1.0           XXXX            创建文件
****************************************************************************************/

/* 调试部分开关 -----------------------------------------------------------------------*/

/* 包含文件 ---------------------------------------------------------------------------*/
#include "rtc.h"
#include "STM32Fxxx_RTC.h"
#include "utilities.h"

#if (defined(APP_OS))
#include "bsp.h"
#endif  //APP_OS

/* 宏定义 -----------------------------------------------------------------------------*/

/* 结构类型定义 -----------------------------------------------------------------------*/

/* 原型声明部分 -----------------------------------------------------------------------*/

/* 全局变量声明 -----------------------------------------------------------------------*/

/* 静态变量定义 -----------------------------------------------------------------------*/

/****************************************************************************************
* 函数名称: rtc_init()
* 功能描述: 初始化
* 入口参数: 
* 出口参数: 
* 返回值  : 
* 其它    : 
****************************************************************************************/
void rtc_init(void)
{
	STM32Fxxx_RTCInit();
}

/****************************************************************************************
* 函数名称: get_rtc()
* 功能描述: 获取时钟
* 入口参数: 
* 出口参数: 
* 返回值  : 
* 其它    : 
****************************************************************************************/
BOOL get_rtc(RTCTime CPU_XDATA *rtc)
{
    BOOL ret;

	ret = BSP_RTCGet(rtc);

	return ret;
}

/****************************************************************************************
* 函数名称: set_rtc()
* 功能描述: 设置时钟
* 入口参数: 
* 出口参数: 
* 返回值  : 
* 其它    : 
****************************************************************************************/
BOOL set_rtc(const RTCTime CPU_XDATA *rtc)
{    
    BOOL ret = FALSE;

	if(CheckRTCRight(rtc))
		ret = BSP_RTCSet((RTCTime *)rtc);

	return ret;
}

/*******************************版权所有(c)**************END OF FILE********************/
